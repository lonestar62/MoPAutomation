# WUS2 (West US 2) Production Variables
# Primary west coast region, disaster recovery target

# Region Configuration
region: wus2
azure_region: westus2
environment: wus2-production
is_lea_region: false
is_primary_region: true

# Azure Infrastructure
resource_group: rg-prod-wus2
subscription_id: "{ vault_wus2_subscription_id }"
ado_organization: "{ vault_wus2_ado_organization }"
pipeline_id: "{ vault_wus2_pipeline_id }"

# Network Configuration
vnet_name: vnet-prod-wus2
vnet_address_space: 10.1.0.0/16
web_subnet: 10.1.1.0/24
app_subnet: 10.1.2.0/24
db_subnet: 10.1.3.0/24
mgmt_subnet: 10.1.100.0/24
vpn_subnet: 10.1.200.0/24

# Service Configuration
web_ip: 10.1.1.10
api_ip: 10.1.1.20
db_ip: 10.1.3.10
lb_ip: 10.1.1.5

# Application Configuration
app_data_path: /opt/app/data
database_name: ProductionDB
database_url: "mysql://appuser:{{ vault_wus2_db_password }}@{{ db_ip }}:3306/ProductionDB"
api_key: "{{ vault_wus2_api_key }}"

# Storage Configuration
storage_account: storagewus2prod
storage_device: sdb1
storage_filesystem: ext4
mount_point: /opt/data
storage_owner: appuser
storage_group: appgroup

# Security Configuration
ssl_domains:
  - "*.wus2.example.com"
  - "api-wus2.example.com"
  - "app-wus2.example.com"
ssl_cert_path: /etc/ssl/certs/wus2-server.crt
ssl_key_path: /etc/ssl/private/wus2-server.key

# Performance Configuration
nginx_worker_connections: 4096
db_buffer_pool_size: 4G
db_max_connections: 500
db_query_cache_size: 512M
jvm_heap_min: 4g
jvm_heap_max: 8g
db_pool_size: 75

# Backup Configuration
backup_retention_days: 90
backup_storage_account: backupwus2prod
data_retention_days: 365
cleanup_enabled: true
shrink_logs: false

# Monitoring Configuration
monitoring_retention_days: 30
alert_email: alerts-wus2@example.com
monitoring_ssh_key: "{{ vault_wus2_monitoring_ssh_key }}"
backup_ssh_key: "{{ vault_wus2_backup_ssh_key }}"

# DNS Configuration
dns_provider: Azure DNS
dns_zone: wus2.example.com
server_name: app-wus2.example.com

# Cache Configuration
cache_type: Redis
cache_size: 4gb
eviction_policy: allkeys-lru

# Container Configuration
container_registry: acrwus2prod.azurecr.io
image_version: "1.2.0"
registry_username: "{{ vault_wus2_acr_username }}"
registry_password: "{{ vault_wus2_acr_password }}"

# Queue Configuration
queue_system: RabbitMQ
queue_count: 8
queues:
  - email
  - notification
  - processing
  - audit
  - backup
  - reports
  - integration
  - analytics

# Compliance Configuration
compliance_framework: SOC2 + ISO27001 + PCI-DSS
audit_date: "2025-08-01"
password_max_days: 90
password_min_length: 14
lockout_attempts: 3
lockout_duration: 1800

# Performance Tuning
tuning_category: Database + Web + System
performance_target: 25% improvement
net_rmem_max: 268435456
net_wmem_max: 268435456
vm_dirty_ratio: 10
vm_dirty_background_ratio: 3
vm_swappiness: 5
vm_overcommit_memory: 1

# Log Configuration
log_retention_days: 30
log_compression: gzip
app_log_path: /opt/app/logs

# Firewall Configuration
firewall_type: iptables + Azure NSG
firewall_rule_version: "2.2.0"

# Service Discovery
discovery_service: Consul
registration_method: Automatic

# Secrets Management
rotation_schedule: Quarterly

# Critical Tables for Database Maintenance
critical_tables:
  - Users
  - Orders
  - Products
  - Transactions
  - AuditLog
  - Sessions

# Backend Servers for Load Balancer
backend_servers:
  - 10.1.1.10
  - 10.1.1.11
  - 10.1.1.12

# Operational Users
operational_users:
  - name: jane.admin
    groups: [operators, dbadmins]
  - name: bob.dev
    groups: [developers]
  - name: lisa.ops
    groups: [operators]

# Contact Information
dba_contact: dba-wus2@example.com
devops_contact: devops-wus2@example.com
app_team_contact: appteam-wus2@example.com
security_contact: security-wus2@example.com
sysadmin_contact: sysadmin-wus2@example.com
oncall_contact: oncall-wus2@example.com

# Disaster Recovery Configuration
dr_region: eus2
dr_web_ip: 10.0.1.10
primary_web_ip: 10.1.1.10
rto_target: 4 hours
rpo_target: 1 hour
test_type: Failover Test
test_duration: TBD
rto_achieved: TBD
rpo_achieved: TBD
issues_found: TBD
recommendations: TBD

# Region-Specific Features
features:
  disaster_recovery_target: true
  west_coast_primary: true
  high_availability: true
  performance_optimization: true