[defaults]
# Azure Multi-Region Ansible Configuration

# Inventory
inventory = inventory/azure_regions.yml
host_key_checking = False
timeout = 30
deprecation_warnings = False

# Logging
log_path = logs/ansible.log
display_skipped_hosts = False
display_ok_hosts = True

# SSH
private_key_file = ~/.ssh/azure_rsa
remote_user = azureuser
gathering = smart
fact_caching = jsonfile
fact_caching_connection = /tmp/ansible_facts_cache
fact_caching_timeout = 3600

# Performance
forks = 20
poll_interval = 2
host_key_checking = False
ssh_args = -o ControlMaster=auto -o ControlPersist=60s -o UserKnownHostsFile=/dev/null -o StrictHostKeyChecking=no

# Vault
vault_password_file = .vault_pass

# Plugins
stdout_callback = yaml
stderr_callback = yaml
callbacks_enabled = profile_tasks, timer

# Azure specific
[azure]
# Azure authentication will use environment variables or managed identity
# AZURE_TENANT_ID, AZURE_CLIENT_ID, AZURE_CLIENT_SECRET

[inventory]
enable_plugins = azure.azcollection.azure_rm, host_list, script, auto, yaml, ini, toml

[ssh_connection]
ssh_args = -o ControlMaster=auto -o ControlPersist=60s -o UserKnownHostsFile=/dev/null -o StrictHostKeyChecking=no
control_path_dir = /tmp/ansible-ssh-%%h-%%p-%%r
control_path = /tmp/ansible-ssh-%%h-%%p-%%r
pipelining = True
retries = 3